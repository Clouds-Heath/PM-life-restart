class m extends ui.view.CyberTheme.CyberSummaryUI{constructor(){super(),this.listSelectedTalents.renderHandler=Laya.Handler.create(this,this.renderTalent,null,!1),this.btnAgain.on(Laya.Event.CLICK,this,this.onAgain)}#e;#t;onAgain(){core.talentExtend(this.#e),core.times++,$ui.switchView(UI.pages.MAIN)}init({talents:e,enableExtend:a}){const{summary:r,lastExtendTalent:i}=core;this.#t=a;const s=$ui.common.filter,t=$ui.common.grade,o=r[core.PropertyTypes.HAGE];this.labAge.text=""+o.value,this.labAgeJudge.text=o.judge,this.labAgeJudge.color=t[o.grade];const n=r[core.PropertyTypes.SUM];this.labTotal.text=""+n.value,this.labTotalJudge.text=n.judge,this.labTotalJudge.color=t[n.grade];const l=r[core.PropertyTypes.HCHR];this.labCharm.text=""+l.value,this.prgCharm.value=l.progress,this.labCharmJudge.text=l.judge,this.labCharmJudge.color=t[l.grade],this.boxCharmGrade.colorFilter=s[l.grade];const d=r[core.PropertyTypes.HINT];this.labIntelligence.text=""+d.value,this.prgIntelligence.value=d.progress,this.labIntelligenceJudge.text=d.judge,this.labIntelligenceJudge.color=t[d.grade],this.boxIntelligenceGrade.colorFilter=s[d.grade];const g=r[core.PropertyTypes.HSTR];this.labStrength.text=""+g.value,this.prgStrength.value=g.progress,this.labStrengthJudge.text=g.judge,this.labStrengthJudge.color=t[g.grade],this.boxStrengthGrade.colorFilter=s[g.grade];const h=r[core.PropertyTypes.HMNY];this.labMoney.text=""+h.value,this.prgMoney.value=h.progress,this.labMoneyJudge.text=h.judge,this.labMoneyJudge.color=t[h.grade],this.boxMoneyGrade.colorFilter=s[h.grade];const c=r[core.PropertyTypes.HSPR];this.labSpirit.text=""+c.value,this.prgSpirit.value=c.progress,this.labSpiritJudge.text=c.judge,this.labSpiritJudge.color=t[c.grade],this.boxSpiritGrade.colorFilter=s[c.grade],e.sort(({id:u,grade:b},{id:y,grade:p})=>u==i?-1:y==i?1:p-b),this.#t?this.#e=e[0].id:this.#e=i,this.listSelectedTalents.array=e}renderTalent(e){const a=e.dataSource,r=e.getChildByName("labTitle"),i=e.getChildByName("grade1"),s=e.getChildByName("grade2"),t=e.getChildByName("grade3"),o=e.getChildByName("labDescription"),n=e.getChildByName("selected"),l=e.getChildByName("unselected");switch(r.text=a.name,o.text=a.description,a.grade){case 1:i.visible=!0,s.visible=!1,t.visible=!1;break;case 2:i.visible=!1,s.visible=!0,t.visible=!1;break;case 3:i.visible=!1,s.visible=!1,t.visible=!0;break;default:i.visible=!1,s.visible=!1,t.visible=!1;break}n.visible=a.id==this.#e,l.visible=!n.visible,e.off(Laya.Event.CLICK,this,this.onSelectTalent),e.on(Laya.Event.CLICK,this,this.onSelectTalent,[a.id])}onSelectTalent(e){if(!this.#t)return $$event("message",["M_DisableExtendTalent"]);e==this.#e?this.#e=null:this.#e=e,this.listSelectedTalents.refresh()}}export{m as default};
